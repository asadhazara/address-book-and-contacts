(this["webpackJsonpaddress-book-and-contacts"]=this["webpackJsonpaddress-book-and-contacts"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=(n(14),n(3)),c=n(7),i=n(2),s=(n(15),n(16),n(1)),l=n.n(s),o=function(e){var t=e.contact;return Object(r.jsx)("div",{className:"ContactSummary",children:Object(r.jsx)("ul",{className:"ContactSummary__List",children:["status","name","email","phone"].map((function(e){return Object(r.jsx)(l.a.Fragment,{children:Object(r.jsxs)("li",{className:"ContactSummary__Item",children:[Object(r.jsx)("div",{className:"ContactSummary__Label",children:e}),Object(r.jsx)("div",{className:"ContactSummary__Value",children:t[e]})]})},e)}))})})},u=n(6),d=n(10),b=(n(17),n(4)),j=n.n(b),f=function(e){var t,n=e.className,a=e.variant,c=e.size,s=void 0===c?"default":c,l=Object(d.a)(e,["className","variant","size"]);return Object(r.jsx)("button",Object(i.a)({className:j()("Button",n,(t={},Object(u.a)(t,"Button--"+s,["small","large"].includes(s)),Object(u.a)(t,"Button--"+a,a),t))},l))},O=function(e){var t=e.status,n=e.onChange;return Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)(f,{size:"small",variant:"Work"===t?"success":"secondary",onClick:n.bind(null,"Work"),children:"Work"}),Object(r.jsx)(f,{size:"small",variant:"Private"===t?"success":"secondary",onClick:n.bind(null,"Private"),children:"Private"})]})},h=(n(18),n(9)),m=n.n(h),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=Object(c.a)(t.querySelectorAll("a, button, input, select, textarea, svg, area, details, summary, iframe, object, embed, [tabindex], [contenteditable]")).filter((function(t){return!e.contains(t)&&"-1"!==t.getAttribute("tabindex")}));return n.forEach((function(e){return e.setAttribute("tabindex","-1")})),{release:function(){n.forEach((function(e){return e.removeAttribute("tabindex")}))}}},v="in",x="out",y=function(e){var t=e.onClose,n=e.children,c=Object(s.useState)(null),i=Object(a.a)(c,2),l=i[0],o=i[1],u=Object(s.useCallback)((function(e){return"opacity"===e.propertyName&&l===x&&t()}),[l,t]),d=Object(s.useCallback)((function(){return o(x)}),[]);return Object(s.useEffect)((function(){var e=setTimeout((function(){return o(v)}),50);return function(){return clearTimeout(e)}}),[]),Object(h.createPortal)(Object(r.jsx)("div",{className:j()("Modal",{fadeIn:l===v,fadeOut:l===x}),onTransitionEnd:u,"aria-label":"Dialog",children:Object(r.jsx)(g,{onClose:d,children:n(d)})}),document.body)},g=function(e){var t=e.onClose,n=e.children,a=Object(s.useRef)(null);return Object(s.useEffect)((function(){return p(a.current).release}),[]),Object(s.useEffect)((function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow=""}}),[]),Object(r.jsxs)("div",{className:"Modal__Container",ref:a,children:[Object(r.jsx)("div",{className:"Modal__Overlay",onClick:t,"aria-hidden":!0}),Object(r.jsx)("div",{className:"Modal__Content",children:n})]})},E=function(e){var t=e.children;return Object(r.jsx)("div",{className:"Modal__Header",children:t})},C=function(e){var t=e.children;return Object(r.jsx)("div",{className:"Modal__Footer",children:t})},k=function(e){var t=e.children;return Object(r.jsx)("div",{className:"Modal__Body",children:Object(r.jsx)("div",{children:t})})},N=Object.assign(Object(s.memo)(y),{Header:Object(s.memo)(E),Footer:Object(s.memo)(C),Body:Object(s.memo)(k)}),T=(n(22),function(e){var t=e.id,n=e.label,a=e.hasError,c=Object(d.a)(e,["id","label","hasError"]);return Object(r.jsxs)("div",{className:"TextField",children:[Object(r.jsx)("label",{className:"TextField__Label",htmlFor:t,children:n}),Object(r.jsx)("div",{children:Object(r.jsx)("input",Object(i.a)({className:j()("TextField__Input",{hasError:a}),id:t},c))})]})}),_=Object(s.createContext)([null,null]),w=function(){return Object(s.useContext)(_)};function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var L=s.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),P=s.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"});function I(e,t){var n=e.title,r=e.titleId,a=S(e,["title","titleId"]);return s.createElement("svg",A({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit",ref:t,"aria-labelledby":r},a),n?s.createElement("title",{id:r},n):null,L,P)}var B=s.forwardRef(I);n.p;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var D=s.createElement("polyline",{points:"3 6 5 6 21 6"}),z=s.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),H=s.createElement("line",{x1:10,y1:11,x2:10,y2:17}),R=s.createElement("line",{x1:14,y1:11,x2:14,y2:17});function W(e,t){var n=e.title,r=e.titleId,a=F(e,["title","titleId"]);return s.createElement("svg",M({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-trash-2",ref:t,"aria-labelledby":r},a),n?s.createElement("title",{id:r},n):null,D,z,H,R)}var J=s.forwardRef(W);n.p;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var $=s.createElement("line",{x1:18,y1:6,x2:6,y2:18}),G=s.createElement("line",{x1:6,y1:6,x2:18,y2:18});function U(e,t){var n=e.title,r=e.titleId,a=V(e,["title","titleId"]);return s.createElement("svg",Y({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x",ref:t,"aria-labelledby":r},a),n?s.createElement("title",{id:r},n):null,$,G)}var Z=s.forwardRef(U),q=(n.p,{NOT_EMPTY:/^(?!\s*$).+/,EMAIL:/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,PHONE:/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\\./0-9]*$/}),K={name:[{pattern:q.NOT_EMPTY,message:"This field cannot be empty."}],phone:[{pattern:q.NOT_EMPTY,message:"This field cannot be empty."},{pattern:q.PHONE,message:"This field must be a correct phone number."}],email:[{pattern:q.NOT_EMPTY,message:"This field cannot be empty."},{pattern:q.EMAIL,message:"This must be a correct email address."}]},Q=function(){var e=w(),t=Object(a.a)(e,2),n=t[0],c=n.selected,u=n.contacts,d=n.filters,b=t[1],j=Object(s.useMemo)((function(){return u.find((function(e){return e.id===c}))}),[u,c]),h=Object(s.useState)(j?Object(i.a)(Object(i.a)({},j),{},{isEditing:!1,errors:{}}):{id:c,status:d.status,name:"",email:"",phone:"",isEditing:!0,errors:{}}),m=Object(a.a)(h,2),p=m[0],v=m[1],x=Object(s.useCallback)((function(){return b({type:"SET_SELECTED_CONTACT",payload:null})}),[b]),y=Object(s.useCallback)((function(e){e(),b({type:"DELETE_CONTACT",payload:c})}),[b,c]),g=Object(s.useCallback)((function(e){return v((function(t){var n=Object(i.a)(Object(i.a)({},t),{},{errors:Object(i.a)({},t.errors)});return n[e.target.name]=e.target.value,delete n.errors[e.target.name],n}))}),[]),E=Object(s.useCallback)((function(e){return v((function(t){return Object(i.a)(Object(i.a)({},t),{},{status:e})}))}),[]),C=Object(s.useCallback)((function(){return Object.entries(K).reduce((function(e,t){var n,r=Object(a.a)(t,2),c=r[0],i=r[1];return e[c]||(n=i.find((function(e){return!e.pattern.test(p[c])}))),n&&(e[c]=n.message),e}),{})}),[p]),k=Object(s.useCallback)((function(e){var t=C();if(Object.keys(t).length>0)v((function(e){return Object(i.a)(Object(i.a)({},e),{},{errors:t})}));else{j?v((function(e){return Object(i.a)(Object(i.a)({},e),{},{isEditing:!1})})):e();var n=Object(i.a)(Object(i.a)({},p),{},{errors:Object(i.a)({},p.errors)});delete n.isEditing,delete n.errors,v((function(e){return Object(i.a)(Object(i.a)({},e),{},{isEditing:!1})})),b({type:j?"CHANGE_CONTACT":"ADD_CONTACT",payload:n})}}),[p,b,j,C]),_=Object(s.useCallback)((function(){return v(Object(i.a)(Object(i.a)({},j),{},{isEditing:!1,errors:{}}))}),[j]),A=Object(s.useCallback)((function(){return v((function(e){return Object(i.a)(Object(i.a)({},e),{},{isEditing:!0})}))}),[]);return Object(r.jsx)(N,{onClose:x,children:function(e){return Object(r.jsxs)(l.a.Fragment,{children:[Object(r.jsxs)(N.Header,{children:[Object(r.jsxs)("p",{className:"truncate",children:[Object(r.jsx)("span",{children:p.name||"Name"}),Object(r.jsx)("span",{children:" \u2014 "}),Object(r.jsx)("span",{children:p.status})]}),Object(r.jsx)("div",{className:"ml-auto flex",children:p.isEditing?Object(r.jsx)(O,{status:p.status,onChange:E}):Object(r.jsxs)(l.a.Fragment,{children:[j&&Object(r.jsx)(f,{"aria-label":"Delete Contact",className:"flex",size:"small",onClick:y.bind(null,e),children:Object(r.jsx)(J,{"aria-hidden":!0,width:"16",height:"16"})}),Object(r.jsx)(f,{"aria-label":"Edit Contact",className:"flex",size:"small",onClick:A,children:Object(r.jsx)(B,{"aria-hidden":!0,width:"16",height:"16"})}),Object(r.jsx)(f,{"aria-label":"Close Dialog",className:"flex",size:"small",onClick:e,children:Object(r.jsx)(Z,{"aria-hidden":!0,width:"16",height:"16"})})]})})]}),Object(r.jsxs)(N.Body,{children:[p.isEditing?Object(r.jsxs)(l.a.Fragment,{children:[Object(r.jsx)(T,{id:"name",name:"name",label:"Name",value:p.name,hasError:!!p.errors.name,type:"text",placeholder:"John Smith",onChange:g}),Object(r.jsx)(T,{id:"email",name:"email",label:"Email",value:p.email,hasError:!!p.errors.email,type:"text",placeholder:"john@email.com",onChange:g}),Object(r.jsx)(T,{id:"phone",name:"phone",label:"Phone",value:p.phone,hasError:!!p.errors.phone,type:"text",placeholder:"+31623121345",onChange:g})]}):Object(r.jsx)(o,{contact:p}),Object.keys(p.errors).length>0&&Object(r.jsx)("div",{className:"text-danger",children:"Please verify if all fields are filled correctly."})]}),p.isEditing&&Object(r.jsxs)(N.Footer,{children:[Object(r.jsx)(f,{className:"ml-auto",onClick:j?_:e,children:"Cancel"}),Object(r.jsx)(f,{variant:"primary",onClick:k.bind(null,e),children:"Save"})]})]})}})},X=function(e){var t=Object(s.useState)(localStorage.getItem(e)||""),n=Object(a.a)(t,2),r=n[0],c=n[1];return Object(s.useEffect)((function(){localStorage.setItem(e,r)}),[r,e]),[r,c]};function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ne=s.createElement("line",{x1:12,y1:5,x2:12,y2:19}),re=s.createElement("line",{x1:5,y1:12,x2:19,y2:12});function ae(e,t){var n=e.title,r=e.titleId,a=te(e,["title","titleId"]);return s.createElement("svg",ee({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",ref:t,"aria-labelledby":r},a),n?s.createElement("title",{id:r},n):null,ne,re)}var ce=s.forwardRef(ae),ie=(n.p,function(e,t){return e.reduce((function(e,n){var r="string"===typeof t?n[t]:t(n);return e[r]?e[r].push(n):e[r]=[n],e}),{})}),se=function(e,t){var n=Object(i.a)({},e);switch(t.type){case"ADD_CONTACT":return n.contacts=[].concat(Object(c.a)(n.contacts),[t.payload]),n;case"DELETE_CONTACT":return n.contacts=n.contacts.filter((function(e){return e.id!==t.payload})),n;case"CHANGE_CONTACT":return n.contacts=n.contacts.map((function(e){return e.id===t.payload.id?t.payload:e})),n;case"SET_SELECTED_CONTACT":return n.selected=t.payload,n;case"SET_STATUS_FILTER":return n.filters.status=t.payload,n;default:return e}},le=function(){var e=w(),t=Object(a.a)(e,2),n=t[0],i=n.contacts,l=n.filters,o=t[1],u=Object(s.useCallback)((function(){return o({type:"SET_SELECTED_CONTACT",payload:Math.max.apply(Math,Object(c.a)(i.map((function(e){return e.id}))).concat([1]))+1})}),[i,o]),d=Object(s.useCallback)((function(e){return o({type:"SET_STATUS_FILTER",payload:e})}),[o]);return Object(r.jsxs)("div",{className:"AddressBook__Header",children:[Object(r.jsx)("h1",{className:"AddressBook__Title truncate",children:"Address Book"}),Object(r.jsx)("div",{className:"AddressBook__Actions ml-auto",children:Object(r.jsx)(f,{"aria-label":"Add Contact",className:"flex",size:"small",variant:"secondary",onClick:u,children:Object(r.jsx)(ce,{height:"16",width:"16","aria-hidden":!0})})}),Object(r.jsx)("div",{className:"AddressBook__Filters",children:Object(r.jsx)(O,{status:l.status,onChange:d})})]})},oe=function(){var e=w(),t=Object(a.a)(e,2),n=t[0],c=n.contacts,i=n.filters,o=t[1],u=ie(c.filter((function(e){return e.status===i.status})).sort((function(e,t){return e.name[0]>t.name[0]?1:-1})),(function(e){return e.name[0]})),d=Object(s.useCallback)((function(e){return o({type:"SET_SELECTED_CONTACT",payload:e})}),[o]);return Object(r.jsx)("ul",{className:"AddressBook__List",children:Object.keys(u).map((function(e){return Object(r.jsxs)(l.a.Fragment,{children:[Object(r.jsx)("li",{className:"AddressBook__Item sticky top-0 bg-light",children:Object(r.jsx)("div",{className:"uppercase",children:e})}),u[e].map((function(e){return Object(r.jsx)("li",{className:"AddressBook__Item",children:Object(r.jsx)("button",{onClick:d.bind(null,e.id),children:e.name})},e.name)}))]},e)}))})},ue=function(){var e=X("AddressBook"),t=Object(a.a)(e,2),n=t[0],c=t[1],i=Object(s.useReducer)(se,{contacts:JSON.parse(n||"[]"),filters:{status:"Work"},selected:null}),l=Object(a.a)(i,2),o=l[0],u=l[1];return Object(s.useEffect)((function(){c(JSON.stringify(o.contacts))}),[o.contacts,c]),Object(s.useEffect)((function(){o.contacts.length>0||fetch("https://randomuser.me/api/").then((function(e){return e.json()})).then((function(e){return Object(a.a)(e.results,1)[0]})).then((function(e){return u({type:"ADD_CONTACT",payload:{id:1,name:"".concat(e.name.first," ").concat(e.name.last),status:o.filters.status,email:e.email,phone:e.phone}})})).catch(console.log)}),[o.contacts,o.filters.status]),Object(r.jsx)(_.Provider,{value:[o,u],children:Object(r.jsxs)("div",{className:"AddressBook",children:[Object(r.jsx)(le,{}),Object(r.jsx)(oe,{}),o.selected&&Object(r.jsx)(Q,{})]})})};n(23);var de=function(){var e=Object(s.useRef)(null);return Object(s.useEffect)((function(){var t=function(){return e.current.style.height="".concat(window.innerHeight,"px")};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),Object(r.jsx)("main",{className:"App",ref:e,children:Object(r.jsx)(ue,{})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};m.a.render(Object(r.jsx)(l.a.StrictMode,{children:Object(r.jsx)(de,{})}),document.getElementById("root")),be()}],[[24,1,2]]]);
//# sourceMappingURL=main.905832ee.chunk.js.map